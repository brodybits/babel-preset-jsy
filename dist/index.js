'use strict';

const bps_env = require('babel-preset-env').default;
const bps_stage_3 = require('babel-preset-stage-3');
const bpi_offside_js = require('babel-plugin-offside-js');
const bpi_class_props = require('babel-plugin-transform-class-properties');

module.exports = exports = function preset(context, opts = {}) {
  const opts_stage_3 = !opts.no_stage_3 || opts.stage_3;
  delete opts.stage_3;delete opts.no_stage_3;
  const opts_offside = opts.offside;
  delete opts.offside;

  if (!opts.targets) {
    opts.targets = { node: 'current' };
  }

  if (true === opts.targets.browser) {
    opts.targets.browser = 'last 1 versions, > 2% in US';
  }

  let presets = [],
      plugins = [];

  presets.push([bps_env, opts]);
  if (opts_stage_3) {
    presets.push([bps_stage_3]);
  }

  plugins.push([bpi_class_props]);
  plugins.push([bpi_offside_js, opts_offside]);

  return { presets, plugins };
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL2NvZGUvaW5kZXguanMiXSwibmFtZXMiOlsiYnBzX2VudiIsInJlcXVpcmUiLCJkZWZhdWx0IiwiYnBzX3N0YWdlXzMiLCJicGlfb2Zmc2lkZV9qcyIsImJwaV9jbGFzc19wcm9wcyIsIm1vZHVsZSIsImV4cG9ydHMiLCJwcmVzZXQiLCJjb250ZXh0Iiwib3B0cyIsIm9wdHNfc3RhZ2VfMyIsIm5vX3N0YWdlXzMiLCJzdGFnZV8zIiwib3B0c19vZmZzaWRlIiwib2Zmc2lkZSIsInRhcmdldHMiLCJub2RlIiwiYnJvd3NlciIsInByZXNldHMiLCJwbHVnaW5zIiwicHVzaCJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxNQUFNQSxVQUFVQyxRQUFRLGtCQUFSLEVBQTRCQyxPQUE1QztBQUNBLE1BQU1DLGNBQWNGLFFBQVEsc0JBQVIsQ0FBcEI7QUFDQSxNQUFNRyxpQkFBaUJILFFBQVEseUJBQVIsQ0FBdkI7QUFDQSxNQUFNSSxrQkFBa0JKLFFBQVEseUNBQVIsQ0FBeEI7O0FBRUFLLE9BQU9DLE9BQVAsR0FBaUJBLFVBQVUsU0FBU0MsTUFBVCxDQUFnQkMsT0FBaEIsRUFBeUJDLE9BQUssRUFBOUIsRUFBa0M7QUFDM0QsUUFBTUMsZUFBZSxDQUFFRCxLQUFLRSxVQUFQLElBQXFCRixLQUFLRyxPQUEvQztBQUNBLFNBQU9ILEtBQUtHLE9BQVosQ0FBcUIsT0FBT0gsS0FBS0UsVUFBWjtBQUNyQixRQUFNRSxlQUFlSixLQUFLSyxPQUExQjtBQUNBLFNBQU9MLEtBQUtLLE9BQVo7O0FBRUEsTUFBRyxDQUFDTCxLQUFLTSxPQUFULEVBQW1CO0FBQ2pCTixTQUFLTSxPQUFMLEdBQWUsRUFBSUMsTUFBTSxTQUFWLEVBQWY7QUFBa0M7O0FBRXBDLE1BQUcsU0FBU1AsS0FBS00sT0FBTCxDQUFhRSxPQUF6QixFQUFtQztBQUNqQ1IsU0FBS00sT0FBTCxDQUFhRSxPQUFiLEdBQXVCLDZCQUF2QjtBQUFvRDs7QUFFdEQsTUFBSUMsVUFBVSxFQUFkO0FBQUEsTUFBa0JDLFVBQVUsRUFBNUI7O0FBRUFELFVBQVFFLElBQVIsQ0FBZSxDQUFFckIsT0FBRixFQUFXVSxJQUFYLENBQWY7QUFDQSxNQUFHQyxZQUFILEVBQWtCO0FBQ2hCUSxZQUFRRSxJQUFSLENBQWUsQ0FBRWxCLFdBQUYsQ0FBZjtBQUE4Qjs7QUFFaENpQixVQUFRQyxJQUFSLENBQWUsQ0FBRWhCLGVBQUYsQ0FBZjtBQUNBZSxVQUFRQyxJQUFSLENBQWUsQ0FBRWpCLGNBQUYsRUFBa0JVLFlBQWxCLENBQWY7O0FBRUEsU0FBTyxFQUFJSyxPQUFKLEVBQWFDLE9BQWIsRUFBUDtBQUEyQixDQXJCN0IiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBicHNfZW52ID0gcmVxdWlyZSgnYmFiZWwtcHJlc2V0LWVudicpLmRlZmF1bHRcbmNvbnN0IGJwc19zdGFnZV8zID0gcmVxdWlyZSgnYmFiZWwtcHJlc2V0LXN0YWdlLTMnKVxuY29uc3QgYnBpX29mZnNpZGVfanMgPSByZXF1aXJlKCdiYWJlbC1wbHVnaW4tb2Zmc2lkZS1qcycpXG5jb25zdCBicGlfY2xhc3NfcHJvcHMgPSByZXF1aXJlKCdiYWJlbC1wbHVnaW4tdHJhbnNmb3JtLWNsYXNzLXByb3BlcnRpZXMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmdW5jdGlvbiBwcmVzZXQoY29udGV4dCwgb3B0cz17fSkgOjpcbiAgY29uc3Qgb3B0c19zdGFnZV8zID0gISBvcHRzLm5vX3N0YWdlXzMgfHwgb3B0cy5zdGFnZV8zXG4gIGRlbGV0ZSBvcHRzLnN0YWdlXzM7IGRlbGV0ZSBvcHRzLm5vX3N0YWdlXzM7IFxuICBjb25zdCBvcHRzX29mZnNpZGUgPSBvcHRzLm9mZnNpZGVcbiAgZGVsZXRlIG9wdHMub2Zmc2lkZVxuXG4gIGlmICFvcHRzLnRhcmdldHMgOjpcbiAgICBvcHRzLnRhcmdldHMgPSBAe30gbm9kZTogJ2N1cnJlbnQnXG5cbiAgaWYgdHJ1ZSA9PT0gb3B0cy50YXJnZXRzLmJyb3dzZXIgOjpcbiAgICBvcHRzLnRhcmdldHMuYnJvd3NlciA9ICdsYXN0IDEgdmVyc2lvbnMsID4gMiUgaW4gVVMnXG5cbiAgbGV0IHByZXNldHMgPSBbXSwgcGx1Z2lucyA9IFtdXG5cbiAgcHJlc2V0cy5wdXNoIEAgWyBicHNfZW52LCBvcHRzIF1cbiAgaWYgb3B0c19zdGFnZV8zIDo6XG4gICAgcHJlc2V0cy5wdXNoIEAgWyBicHNfc3RhZ2VfMyBdXG5cbiAgcGx1Z2lucy5wdXNoIEAgWyBicGlfY2xhc3NfcHJvcHMgXVxuICBwbHVnaW5zLnB1c2ggQCBbIGJwaV9vZmZzaWRlX2pzLCBvcHRzX29mZnNpZGUgXVxuXG4gIHJldHVybiBAe30gcHJlc2V0cywgcGx1Z2luc1xuXG4iXX0=